<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title></title>
        <!--script src="https://cdn.jsdelivr.net/npm/vue"></script-->

        <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.2.0/vue.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/1.2.1/vue-resource.min.js"></script>
    </head>
    <body>
        <div id="app">
            <table>
                <tr><td>Id</td><td>Movie Title</td><td>Year Released</td><td>Rating</td></tr>
                <tr v-for="movie in movies">
                    <td>{{movie.Id}}</td>
                    <td>{{movie.Title}}</td>
                    <td>{{movie.YearReleased}}</td>
                    <td>{{movie.Rating}}</td>
                </tr>
            </table>
        </div>
    </body>
    <script type="text/javascript">
        var link = 'http://127.0.0.1:8080/api/movie/';
        var app = new Vue ({
            el: '#app',
            data: {
                movies: null
            },
            methods:{
                getMovies: function(){
                    this.$http.get(link).then(function(response){
                        this.movies = response.data;
                    }, function(error){
                        console.log(error.statusText);
                    });
                }
            },
            mounted: function () {
                this.getMovies();
            }
});
    </script>
</html>
